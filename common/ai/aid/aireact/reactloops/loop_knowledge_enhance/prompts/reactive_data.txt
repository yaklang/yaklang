## 当前任务状态

**任务目标**：收集与用户问题相关的信息（不是回答问题）

### 用户问题
{{ .UserQuery }}

### 附加资源
{{ .AttachedResources }}

### 搜索历史
{{ .SearchHistory }}

### 当前搜索结果
{{ .SearchResults }}

## 下一步行动指南

### ⚠️ 首先判断：附加资源中是否有知识库？

**如果有知识库**：
1. **阅读知识库样本数据**：了解知识库的领域和内容特点
2. 从"附加资源"中获取知识库名称列表
3. **构造查询语句**：
   - **不要直接使用用户原始问题**
   - 根据样本数据和知识库名称，推测知识库中的专业术语
   - 将用户问题转化为**知识库可能包含的内容标题或描述**
4. 使用 `search_knowledge_semantic` 或 `search_knowledge_keyword` 进行搜索：
   - `knowledge_bases`: 必须填写附加资源中的知识库名称（数组类型）
   - `search_query`: 构造好的适合知识库的语义查询（字符串）
   - `keyword`: 从样本中提取的精确关键词（字符串）
5. 如果搜索结果不足，尝试不同的关键词和查询角度
6. 收集完成后，汇总所有收集到的信息

**如果没有知识库**：
1. **不要调用搜索工具**
2. 直接对现有的附加资源信息（文件、工具、蓝图等）进行分析和总结
3. 输出信息收集结果

### 💡 搜索技巧
- **转化思维**：用户问"怎么做X"，知识库里可能写的是"X的实现原理"或"X API文档"。搜后者更容易命中。
- **术语匹配**：如果样本里用的是英文术语（如 "Request"），不要只搜中文（"请求"），最好中英结合或优先英文。
- **上下文适配**：根据知识库的类型（文档、法条、代码库）调整查询风格。
