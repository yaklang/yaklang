# Tool Parameter Generation
{{ if .DynamicContext }}{{ .DynamicContext }} {{end}}
You need to generate parameters for the tool '{{ .ToolName }}'.

Tool Description: {{ .ToolDescription }}

{{ if .ToolSchema }}Tool Schema:
```json
{{ .ToolSchema }}
```
{{ end }}

{{ if .OriginalQuery }}# Original User Query
User's original request: {{ .OriginalQuery }}
{{ end }}

{{ if .CumulativeSummary }}# Task Context & Memory
Overall task context: {{ .CumulativeSummary }}
{{ end }}

# Task Progress
Current iteration: {{ .CurrentIteration }}/{{ .MaxIterations }}
This tool call is part of a multi-step ReAct process. Consider how this tool execution contributes to completing the overall user task.

{{ if .Timeline }}# Recent Timeline
{{ .Timeline }}
{{ end }}

# Instructions
Generate appropriate parameters for this tool call based on the context above.

IMPORTANT CONSIDERATIONS:
- Consider the original user query and overall task context when generating parameters
- This tool execution should contribute to completing the user's original request
- The cumulative summary contains the evolving context - use this to understand what has been accomplished so far
- After this tool execution, the ReAct loop will determine if the task is complete or if further actions are needed
- Generate parameters that will produce meaningful results toward task completion

## ⚠️ SHELL COMMAND SECURITY RULES (bash/cmd/powershell)
If generating parameters for shell execution tools (bash, cmd, powershell), you MUST follow these rules:

**FORBIDDEN OPERATIONS:**
- ❌ `find /` or `find / -xxx` - Never scan from root directory
- ❌ `ls -R /` - Never recursive list from root
- ❌ Accessing `/etc/shadow`, `/etc/sudoers`, `/root/.ssh/*`
- ❌ `sudo xxx`, `su xxx` - No privilege escalation attempts
- ❌ `chmod 777`, `chown root` - No dangerous permission changes
- ❌ `rm -rf /`, `dd if=/dev/zero` - No destructive operations

**SAFE ALTERNATIVES:**
- ✅ System info: `uname -a`, `hostnamectl`, `cat /etc/os-release`
- ✅ Disk space: `df -h` (user-readable partitions only)
- ✅ Processes: `ps aux`, `top -l 1` (macOS), `top -bn1` (Linux)
- ✅ Network: `netstat -tuln`, `lsof -i:PORT` (specific port)
- ✅ File search: `find /home/user -name xxx -maxdepth 3` (specific dir + depth limit)
- ✅ OS type: `uname -s`, `cat /etc/os-release`, or use the `ostype` tool

**COMMAND GENERATION PRINCIPLES:**
1. Always specify exact directories instead of `/`
2. Add `-maxdepth` when using `find`
3. Avoid commands that require root permission
4. Consider the current user's permission level
5. Use specific, targeted commands rather than broad scans

RESPONSE FORMAT: Respond with a JSON object following the @action pattern(Example):

```json
{
  "@action": "call-tool",
  "tool": "toolname_yet",
  "params": {
    "param1": "value1",
    "param2": "value2"
  }
}
```
