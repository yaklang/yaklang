{
  "$schema": "http://json-schema.org/draft-07/spec#",
  "title": "SRT 分析与处理指令 (SRT Analysis and Processing Instructions)",
  "description": "定义了对SRT文件进行重要性分析后的结果结构。包含一个核心摘要、处理统计数据以及一个完整的、按时间排序的处理指令时间轴。",
  "type": "object",
  "properties": {
    "@action": {
      "const": "object",
      "description": "set '@action' can help the AI identify the output json object",
      "type": "string"
    },
    "cumulative_summary": {
      "type": "string",
      "description": "【核心】累积性摘要：由所有 'fine' 区间的文本内容蒸馏而成的核心摘要。",
      "minLength": 1
    },
    "timeline_segments": {
      "type": "array",
      "description": "【核心】完整处理时间轴：一个覆盖从0秒到视频结束的无缝指令列表。",
      "minItems": 1,
      "items": {
        "properties": {
          "start_seconds": {
            "type": "number",
            "description": "片段的开始时间（单位：秒），从视频开头计算。",
            "minimum": 0
          },
          "end_seconds": {
            "type": "number",
            "description": "片段的结束时间（单位：秒），必须大于或等于开始时间。"
          },
          "processing_type": {
            "type": "string",
            "description": "该时间片段的处理类型。",
            "enum": [
              "fine",
              "ignore"
            ]
          },
          "text_content": {
            "type": "string",
            "description": "该时间片段的文本内容，仅在处理类型为 'fine' 时提供。",
            "minLength": 1
          }
        }
      }
    }
  },
  "required": [
    "cumulative_summary",
    "timeline_segments",
    "@action"
  ]
}
