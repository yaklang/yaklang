package mutate

import (
	"fmt"
	"testing"
)

func TestFixFileContent(t *testing.T) {
	file := "504b03041400080808003d796a54000000000000000000000000090004004d4554412d494e462ffeca00000300504b0708000000000200000000000000504b03041400080808003d796a54000000000000000000000000140000004d4554412d494e462f4d414e49464553542e4d46f34dcccb4c4b2d2ed10d4b2d2acecccfb35230d433e0e5722e4a4d2c494dd175aa040a98eb19e8192968f8172526e7a42a38e71715e417259600156bf272f1720100504b070814912a104200000042000000504b030414000808080058776a5400000000000000000000000008000000746573742e6a73707590310bc230108577c1ff1003c26530daea56ebee263a8a43aa678db4b1c6ab55c4ff6e42452bd4b724977bf7dd23d37eb7c39cf41e78108eb9c473a9b20b5877e285648ab45056e548688117d58e0b211ef58cd7515d95d427393745492bb2a872a60d8bd9b234a473f480f71584c41b6effa0b7b947fbc7060a44f45da50d31e5c88320621f7ddbc99d70bd61897318acea321885934dabfb54922cac43029f1616675cb4daaa83ce1040c5da481768078910bd781034bfe0079719f0db5d7c6d52ef6ec53edb830cdf49eaeed30df4672f504b0708e09d4eacd3000000a1010000504b010214001400080808003d796a540000000002000000000000000900040000000000000000000000000000004d4554412d494e462ffeca0000504b010214001400080808003d796a5414912a10420000004200000014000000000000000000000000003d0000004d4554412d494e462f4d414e49464553542e4d46504b0102140014000808080058776a54e09d4eacd3000000a10100000800000000000000000000000000c1000000746573742e6a7370504b05060000000003000300b3000000ca0100000000"
	println(len(file) / 2)
	res, err := QuickMutate(fmt.Sprintf(`{{hexd(%v)}}`, file), nil)
	if err != nil {
		panic(err)
	}
	println(len(res[0]))
}
