#!/bin/sh -e


echo "Start to Test SSAAPI"
go test -timeout 120s ./common/yak/ssaapi/...

echo "Start to Test Syntaxflow rule "
go test -timeout 1m ./common/syntaxflow/sfbuildin/...
go test -timeout 20s ./common/syntaxflow/tests

echo "Start to Test SSA-Analyze"
# SSA plugin rule/option
go test -timeout 20s ./common/yak/static_analyzer/test/...
# StaticAnalyze
go test -timeout 20s -run TestAnalyzeMustPASS* ./common/coreplugin
# SSA UTIL
go test -timeout 20s ./common/yak/ssa/...
# yak ssa
go test -timeout 20s ./common/yak/yak2ssa/test/...
# Test Java Syntax
go test -timeout 10s ./common/yak/java/...
# Test php syntax
go test -timeout 30s ./common/yak/php/...
go test -timeout 60s ./common/yak/JS2ssa/...

echo "Start to test syntax-flow buildin-rule"

go test -timeout 20s -skip "TestBuildInRule_Verify_DEBUG" ./common/syntaxflow/...